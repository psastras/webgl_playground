<!DOCTYPE html>

<html>
<head>
  <title>webgl.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>webgl.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              <h2 id="errors">Errors</h2>

            </div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Not yet implemented error, thrown when a method is yet to be implemented.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">NotImplementedError</span><span class="hljs-params">(message)</span> {</span>
    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">"NotImplementedError"</span>;
    <span class="hljs-keyword">this</span>.message = (message || <span class="hljs-string">""</span>);
}
NotImplementedError.prototype = <span class="hljs-built_in">Error</span>.prototype;</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>GL error, thrown when a open gl ecounters an error</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GLError</span><span class="hljs-params">(message)</span> {</span>
    <span class="hljs-keyword">this</span>.name = <span class="hljs-string">"GLError"</span>;
    <span class="hljs-keyword">this</span>.message = (message || <span class="hljs-string">""</span>);
}
GLError.prototype = <span class="hljs-built_in">Error</span>.prototype;</pre></div></div>
            
        </li>
        
        
        <li id="section-4">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-4">&#182;</a>
              </div>
              <h2 id="mat4x4">Mat4x4</h2>

            </div>
            
        </li>
        
        
        <li id="section-5">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-5">&#182;</a>
              </div>
              <p>Constructs a 4 x 4 matrix with common math operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Mat4x4</span><span class="hljs-params">(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p, type)</span> {</span>
	<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
	<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(<span class="hljs-number">16</span>);
	<span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> Mat4x4) <span class="hljs-keyword">this</span>.data.set(a.data);
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) <span class="hljs-keyword">this</span>.data.set(a);
	<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data.set([a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p]);
}</pre></div></div>
            
        </li>
        
        
        <li id="section-6">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-6">&#182;</a>
              </div>
              <p>Returns a Mat4x4 equal to the identity matrix (1s on the diagonal)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>Mat4x4.Identity = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4([<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
					   <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>,
					   <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>,
					   <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);
}

Mat4x4.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-7">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-7">&#182;</a>
              </div>
              <p>Applies the input function to each element of the matrix and returns a reference to this matrix</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	map : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func)</span> {</span>
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">15</span>; i &gt;= <span class="hljs-number">0</span>; i--) <span class="hljs-keyword">this</span>.data[i] = func(<span class="hljs-keyword">this</span>.data[i], i);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-8">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-8">&#182;</a>
              </div>
              <p>Returns a new matrix equal to the transpose of the current matrix</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	transpose : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4([<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-9">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-9">&#182;</a>
              </div>
              <p>If m is a matrix, returns a reference to this matrix equal to an element by element sum of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the matrix summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	addeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">if</span> (m <span class="hljs-keyword">instanceof</span> Mat4x4) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x + m[i]; });
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x + m; });
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-10">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-10">&#182;</a>
              </div>
              <p>If m is a matrix, returns a new matrix equal to an element by element sum of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the matrix summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4(<span class="hljs-keyword">this</span>).addeq(m);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-11">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-11">&#182;</a>
              </div>
              <p>If m is a matrix, returns a reference to this matrix equal to an element by element difference of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the matrix minus the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	subeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">if</span> (m <span class="hljs-keyword">instanceof</span> Mat4x4) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x - m[i]; });
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x - m; });
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-12">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-12">&#182;</a>
              </div>
              <p>If m is a matrix, returns a new matrix equal to an element by element difference of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the matrix minus the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	sub : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4(<span class="hljs-keyword">this</span>).subeq(m);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-13">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-13">&#182;</a>
              </div>
              <p>If m is a matrix, returns a reference to this matrix equal to the matrix multiplication of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the element wise matrix multiplication with the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	muleq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">if</span> (m <span class="hljs-keyword">instanceof</span> Mat4x4) {
			<span class="hljs-keyword">this</span>.data.set([<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]  * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]  * m.data[<span class="hljs-number">4</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]  * m.data[<span class="hljs-number">8</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]  * m.data[<span class="hljs-number">12</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]  * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]  * m.data[<span class="hljs-number">5</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]  * m.data[<span class="hljs-number">9</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]  * m.data[<span class="hljs-number">13</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]  * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]  * m.data[<span class="hljs-number">6</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]  * m.data[<span class="hljs-number">10</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]  * m.data[<span class="hljs-number">14</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]  * m.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]  * m.data[<span class="hljs-number">7</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]  * m.data[<span class="hljs-number">11</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]  * m.data[<span class="hljs-number">15</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]  * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]  * m.data[<span class="hljs-number">4</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]  * m.data[<span class="hljs-number">8</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]  * m.data[<span class="hljs-number">12</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]  * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]  * m.data[<span class="hljs-number">5</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]  * m.data[<span class="hljs-number">9</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]  * m.data[<span class="hljs-number">13</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]  * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]  * m.data[<span class="hljs-number">6</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]  * m.data[<span class="hljs-number">10</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]  * m.data[<span class="hljs-number">14</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]  * m.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]  * m.data[<span class="hljs-number">7</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]  * m.data[<span class="hljs-number">11</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]  * m.data[<span class="hljs-number">15</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]  * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]  * m.data[<span class="hljs-number">4</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>] * m.data[<span class="hljs-number">8</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>] * m.data[<span class="hljs-number">12</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]  * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]  * m.data[<span class="hljs-number">5</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>] * m.data[<span class="hljs-number">9</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>] * m.data[<span class="hljs-number">13</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]  * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]  * m.data[<span class="hljs-number">6</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>] * m.data[<span class="hljs-number">10</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>] * m.data[<span class="hljs-number">14</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]  * m.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]  * m.data[<span class="hljs-number">7</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>] * m.data[<span class="hljs-number">11</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>] * m.data[<span class="hljs-number">15</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>] * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>] * m.data[<span class="hljs-number">4</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>] * m.data[<span class="hljs-number">8</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>] * m.data[<span class="hljs-number">12</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>] * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>] * m.data[<span class="hljs-number">5</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>] * m.data[<span class="hljs-number">9</span>]  + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>] * m.data[<span class="hljs-number">13</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>] * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>] * m.data[<span class="hljs-number">6</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>] * m.data[<span class="hljs-number">10</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>] * m.data[<span class="hljs-number">14</span>],
						   <span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>] * m.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>] * m.data[<span class="hljs-number">7</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>] * m.data[<span class="hljs-number">11</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>] * m.data[<span class="hljs-number">15</span>]]);
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
		}
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x * m; });
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-14">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-14">&#182;</a>
              </div>
              <p>If m is a matrix, returns a new matrix equal to the matrix multiplication of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the element wise matrix multiplication with the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	mul : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">if</span> (m <span class="hljs-keyword">instanceof</span> Vec4) {
			<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * m.data[<span class="hljs-number">3</span>],
							<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>] * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>] * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>] * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>] * m.data[<span class="hljs-number">3</span>],
							<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>] * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>] * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>] * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>] * m.data[<span class="hljs-number">3</span>],
							<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>] * m.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>] * m.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>] * m.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>] * m.data[<span class="hljs-number">3</span>]);
		}
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4(<span class="hljs-keyword">this</span>).muleq(m);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-15">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-15">&#182;</a>
              </div>
              <p>If m is a matrix, returns a reference to this matrix equal to the matrix division of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the element wise matrix division with the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	diveq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">if</span> (m <span class="hljs-keyword">instanceof</span> Mat4x4) <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x / m[i]; });
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> x / m; });
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-16">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-16">&#182;</a>
              </div>
              <p>If m is a matrix, returns a new matrix equal to the matrix division of the two matrices.  Else if m is 
a scalar, returns a new matrix equal to the element wise matrix division with the scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	div : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4(<span class="hljs-keyword">this</span>).diveq(m);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-17">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-17">&#182;</a>
              </div>
              <p>Returns the determinant of the matrix</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	det : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-18">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-18">&#182;</a>
              </div>
              <p>Returns a new matrix equal to the inverse of the current matrix</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	inv : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">this</span>.det();
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4([
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">15</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">11</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">7</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">14</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">12</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">13</span>])/d,
			(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>]+<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">6</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">9</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">4</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">10</span>]-<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">5</span>]*<span class="hljs-keyword">this</span>.data[<span class="hljs-number">8</span>])/d
		]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-19">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-19">&#182;</a>
              </div>
              <p>Returns true of the elements of this matrix and m are equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	equals : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(m)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">if</span>(x != m.data[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }) || <span class="hljs-literal">true</span>;
	},
}</pre></div></div>
            
        </li>
        
        
        <li id="section-20">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-20">&#182;</a>
              </div>
              <h2 id="vec4">Vec4</h2>

            </div>
            
        </li>
        
        
        <li id="section-21">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-21">&#182;</a>
              </div>
              <p>Constructs a four element vector class with common math operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vec4</span><span class="hljs-params">(x, y, z, w, type)</span> {</span>
	<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
	<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(<span class="hljs-number">4</span>);
	<span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> Vec4) {
		<span class="hljs-keyword">this</span>.data.set(x.data);
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Float32Array</span>) {
		<span class="hljs-keyword">this</span>.data.set(x);
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = y || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = z || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = w || <span class="hljs-number">0</span>;
	}
}

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'x'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'y'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'z'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'w'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'r'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'g'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'b'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'a'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'s'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'t'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'p'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec4.prototype, <span class="hljs-string">'q'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = x; }
});

Vec4.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-22">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-22">&#182;</a>
              </div>
              <p>Applies the input function to each element of the vector and returns a reference to this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	map : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func)</span> {</span>
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-number">1</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>], <span class="hljs-number">2</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>], <span class="hljs-number">3</span>);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-23">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-23">&#182;</a>
              </div>
              <p>Homogenizes (sets the fourth element to 1) the current vector and returns a reference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	homogenize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = <span class="hljs-number">1</span>;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-24">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-24">&#182;</a>
              </div>
              <p>Unhomogenizes (sets the fourth element to 0) the current vector and returns a reference</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	unhomogenize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] = <span class="hljs-number">0</span>;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-25">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-25">&#182;</a>
              </div>
              <p>Homogenizes (sets the fourth element to 1) a copy of the current vector and returns the new vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	homogenized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>], <span class="hljs-number">1</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-26">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-26">&#182;</a>
              </div>
              <p>Unhomogenizes (sets the fourth element to 1) a copy of the current vector and returns the new vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	unhomogenized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>], <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-27">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-27">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	addeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec4) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] += v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] += v.data[<span class="hljs-number">3</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] += v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-28">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-28">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>).addeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-29">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-29">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	subeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec4) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] -= v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] -= v.data[<span class="hljs-number">3</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] -= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-30">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-30">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	sub : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>).subeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-31">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-31">&#182;</a>
              </div>
              <p>Returns a new vector equal to the dot product of this vector and v.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	dot : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * v.data[<span class="hljs-number">3</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-32">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-32">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	muleq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec4) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] *= v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] *= v.data[<span class="hljs-number">3</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] *= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-33">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-33">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	mul : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>).muleq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-34">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-34">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	diveq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec4) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] /= v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] /= v.data[<span class="hljs-number">3</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] /= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-35">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-35">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	div : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>).diveq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-36">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-36">&#182;</a>
              </div>
              <p>Returns a reference to this vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.diveq(<span class="hljs-keyword">this</span>.magnitude());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-37">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-37">&#182;</a>
              </div>
              <p>Returns a new vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>).normalize();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-38">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-38">&#182;</a>
              </div>
              <p>Returns the square root of the squared sum of elements of this vector (Euclidean length)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.magnitude2());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-39">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-39">&#182;</a>
              </div>
              <p>Returns the squared sum of elements of this vector (Euclidean length squared)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-40">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-40">&#182;</a>
              </div>
              <p>Returns the Euclidean distance between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.distance2(v));
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-41">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-41">&#182;</a>
              </div>
              <p>Returns the Euclidean distance squared between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) * (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) + (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]) * (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]) + (v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]) * (v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]) 
			+ (v.data[<span class="hljs-number">3</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]) * (v.data[<span class="hljs-number">3</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-42">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-42">&#182;</a>
              </div>
              <p>Returns a new vector equal to the cross product this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	cross : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-43">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-43">&#182;</a>
              </div>
              <p>Returns true of the elements of this vector and v are equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	equals : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] == v.data[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] == v.data[<span class="hljs-number">1</span>] &amp;&amp; <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] == v.data[<span class="hljs-number">2</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-44">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-44">&#182;</a>
              </div>
              <p>Reflect this vector around normal, assuming this vector is incident to surface and return the outgoing reflected vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	reflect : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(n)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sub(normal.dot(<span class="hljs-keyword">this</span>.dot(normal).mul(<span class="hljs-number">2</span>)));
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-45">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-45">&#182;</a>
              </div>
              <h2 id="vec3">Vec3</h2>

            </div>
            
        </li>
        
        
        <li id="section-46">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-46">&#182;</a>
              </div>
              <p>Constructs a three element vector class with common math operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vec3</span><span class="hljs-params">(x, y, z, type)</span> {</span>
	<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
	<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(<span class="hljs-number">3</span>);
	<span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> Vec3) {
		<span class="hljs-keyword">this</span>.data.set(x.data);
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Float32Array</span>) {
		<span class="hljs-keyword">this</span>.data.set(x);
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = y || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = z || <span class="hljs-number">0</span>;
	}
}

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'x'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'y'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'z'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'r'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'g'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'b'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'s'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'t'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec3.prototype, <span class="hljs-string">'q'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = x; }
});



Vec3.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-47">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-47">&#182;</a>
              </div>
              <p>Applies the input function to each element of the vector and returns a reference to this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	map : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func)</span> {</span>
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-number">1</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>], <span class="hljs-number">2</span>);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-48">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-48">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	addeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec3) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] += v.data[<span class="hljs-number">2</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] += v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-49">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-49">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>).addeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-50">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-50">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	subeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec3) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] -= v.data[<span class="hljs-number">2</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] -= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-51">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-51">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	sub : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>).subeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-52">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-52">&#182;</a>
              </div>
              <p>Returns a new vector equal to the dot product of this vector and v.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	dot : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">2</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-53">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-53">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	muleq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec3) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] *= v.data[<span class="hljs-number">2</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] *= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-54">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-54">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	mul : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>).muleq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-55">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-55">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	diveq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec3) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] /= v.data[<span class="hljs-number">2</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] /= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-56">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-56">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	div : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>).diveq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-57">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-57">&#182;</a>
              </div>
              <p>Returns a reference to this vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.diveq(<span class="hljs-keyword">this</span>.magnitude());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-58">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-58">&#182;</a>
              </div>
              <p>Returns a new vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>).normalize();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-59">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-59">&#182;</a>
              </div>
              <p>Returns the square root of the squared sum of elements of this vector (Euclidean length)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.magnitude2());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-60">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-60">&#182;</a>
              </div>
              <p>Returns the squared sum of elements of this vector (Euclidean length squared)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-61">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-61">&#182;</a>
              </div>
              <p>Returns the Euclidean distance between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.distance2(v));
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-62">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-62">&#182;</a>
              </div>
              <p>Returns the Euclidean distance squared between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) * (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) + (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]) * (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]) + (v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]) * (v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-63">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-63">&#182;</a>
              </div>
              <p>Returns a new vector equal to the cross product this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	cross : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec3(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">1</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">2</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">0</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-64">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-64">&#182;</a>
              </div>
              <p>Returns true of the elements of this vector and v are equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	equals : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] == v.data[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] == v.data[<span class="hljs-number">1</span>] &amp;&amp; <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] == v.data[<span class="hljs-number">2</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-65">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-65">&#182;</a>
              </div>
              <p>Reflect this vector around normal, assuming this vector is incident to surface</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	reflect : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(n)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.sub(normal.dot(<span class="hljs-keyword">this</span>.dot(normal).mul(<span class="hljs-number">2</span>)));
	}
}</pre></div></div>
            
        </li>
        
        
        <li id="section-66">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-66">&#182;</a>
              </div>
              <h2 id="vec2">Vec2</h2>

            </div>
            
        </li>
        
        
        <li id="section-67">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-67">&#182;</a>
              </div>
              <p>Constructs a three element vector class with common math operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vec2</span><span class="hljs-params">(x, y, type)</span> {</span>
	<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
	<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(<span class="hljs-number">2</span>);
	<span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> Vec2) {
		<span class="hljs-keyword">this</span>.data.set(x.data);
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Float32Array</span>) {
		<span class="hljs-keyword">this</span>.data.set(x);
	} <span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = y || <span class="hljs-number">0</span>;
	}
}

<span class="hljs-built_in">Object</span>.defineProperty(Vec2.prototype, <span class="hljs-string">'x'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec2.prototype, <span class="hljs-string">'y'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec2.prototype, <span class="hljs-string">'s'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = x; }
});

<span class="hljs-built_in">Object</span>.defineProperty(Vec2.prototype, <span class="hljs-string">'t'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]; },
   	set: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x)</span> {</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = x; }
});

Vec2.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-68">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-68">&#182;</a>
              </div>
              <p>Applies the input function to each element of the vector and returns a reference to this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	map : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func)</span> {</span>
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>], <span class="hljs-number">0</span>);
		<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = func(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>], <span class="hljs-number">1</span>);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-69">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-69">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	addeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec2) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v.data[<span class="hljs-number">1</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] += v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] += v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-70">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-70">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>).addeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-71">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-71">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	subeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec2) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v.data[<span class="hljs-number">1</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] -= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] -= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-72">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-72">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	sub : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>).subeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-73">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-73">&#182;</a>
              </div>
              <p>Returns a new vector equal to the dot product of this vector and v.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	dot : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * v.data[<span class="hljs-number">1</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-74">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-74">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	muleq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec2) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v.data[<span class="hljs-number">1</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] *= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] *= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-75">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-75">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	mul : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>).muleq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-76">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-76">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	diveq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec2) <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v.data[<span class="hljs-number">0</span>], <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v.data[<span class="hljs-number">1</span>];
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] /= v, <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] /= v;
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-77">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-77">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	div : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>).diveq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-78">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-78">&#182;</a>
              </div>
              <p>Returns a reference to this vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.diveq(<span class="hljs-keyword">this</span>.magnitude());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-79">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-79">&#182;</a>
              </div>
              <p>Returns a new vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec2(<span class="hljs-keyword">this</span>).normalize();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-80">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-80">&#182;</a>
              </div>
              <p>Returns the square root of the squared sum of elements of this vector (Euclidean length)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.magnitude2());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-81">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-81">&#182;</a>
              </div>
              <p>Returns the squared sum of elements of this vector (Euclidean length squared)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>];
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-82">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-82">&#182;</a>
              </div>
              <p>Returns the Euclidean distance between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.distance2(v));
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-83">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-83">&#182;</a>
              </div>
              <p>Returns the Euclidean distance squared between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) * (v.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>]) + (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]) * (v.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>]);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-84">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-84">&#182;</a>
              </div>
              <p>Returns true of the elements of this vector and v are equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	equals : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] == v.data[<span class="hljs-number">0</span>] &amp;&amp; <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] == v.data[<span class="hljs-number">1</span>];
	},
}</pre></div></div>
            
        </li>
        
        
        <li id="section-85">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-85">&#182;</a>
              </div>
              <h2 id="vec">Vec</h2>

            </div>
            
        </li>
        
        
        <li id="section-86">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-86">&#182;</a>
              </div>
              <p>Constructs an n element vector class with common math operations</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Vec</span><span class="hljs-params">(x, type)</span> {</span>
	<span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> Vec) {
		<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
		<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(x.length);
		<span class="hljs-keyword">this</span>.data.set(x.data);
	} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span> || x <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Float32Array</span>) {
		<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
		<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(x.length);
		<span class="hljs-keyword">this</span>.data.set(x);
	}  <span class="hljs-keyword">else</span> {
		<span class="hljs-keyword">this</span>.type = type || <span class="hljs-built_in">Float32Array</span>;
		<span class="hljs-keyword">this</span>.data = <span class="hljs-keyword">new</span> <span class="hljs-keyword">this</span>.type(x);
	}
}

<span class="hljs-built_in">Object</span>.defineProperty(Vec.prototype, <span class="hljs-string">'length'</span>, {
   	get: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data.length; },
});

Vec.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-87">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-87">&#182;</a>
              </div>
              <p>Applies the input function to each element of the vector and returns a reference to this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	map : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func)</span> {</span>
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.data.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) <span class="hljs-keyword">this</span>.data[i] = func(<span class="hljs-keyword">this</span>.data[i], i);
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},
	reduce : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func, initial)</span> {</span>
		<span class="hljs-keyword">var</span> previous_value = initial || <span class="hljs-number">0</span>;
		<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-keyword">this</span>.data.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) previous_value = func(previous_value, <span class="hljs-keyword">this</span>.data[i], i);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-88">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-88">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	addeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec) <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] + v.data[i]; } );
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] + v; } );
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-89">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-89">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element sum of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector summed with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	add : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec(<span class="hljs-keyword">this</span>).addeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-90">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-90">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	subeq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec) <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] - v.data[i]; } );
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] - v; } );
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-91">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-91">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element difference of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector minus that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	sub : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec(<span class="hljs-keyword">this</span>).subeq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-92">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-92">&#182;</a>
              </div>
              <p>Returns a new vector equal to the dot product of this vector and v.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	dot : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.mul(v).reduce(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(previous, current, i)</span> {</span> <span class="hljs-keyword">return</span> previous + current; }, <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-93">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-93">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	muleq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec) <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] * v.data[i]; } );
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] * v; } );
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-94">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-94">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element multiplication of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector multiplied with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	mul : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec(<span class="hljs-keyword">this</span>).muleq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-95">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-95">&#182;</a>
              </div>
              <p>If v is a vector, returns a reference to this vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	diveq : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">if</span> (v <span class="hljs-keyword">instanceof</span> Vec) <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] / v.data[i]; } );
		<span class="hljs-keyword">else</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data[i] / v; } );
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-96">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-96">&#182;</a>
              </div>
              <p>If v is a vector, returns a new vector equal to an element by element dvision of the two vectors.  Else if v is 
a scalar, returns a new vector equal to the vector divided with that scalar</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	div : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec(<span class="hljs-keyword">this</span>).diveq(v);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-97">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-97">&#182;</a>
              </div>
              <p>Returns a reference to this vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.diveq(<span class="hljs-keyword">this</span>.magnitude());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-98">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-98">&#182;</a>
              </div>
              <p>Returns a new vector equal to the normalized (unit length) of this vector</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	normalized : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec(<span class="hljs-keyword">this</span>).normalize();
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-99">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-99">&#182;</a>
              </div>
              <p>Returns the square root of the squared sum of elements of this vector (Euclidean length)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.magnitude2());
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-100">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-100">&#182;</a>
              </div>
              <p>Returns the squared sum of elements of this vector (Euclidean length squared)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	magnitude2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(previous, current, i)</span> {</span> <span class="hljs-keyword">return</span> previous + current * current; }, <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-101">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-101">&#182;</a>
              </div>
              <p>Returns the Euclidean distance between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-keyword">this</span>.distance2(v));
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-102">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-102">&#182;</a>
              </div>
              <p>Returns the Euclidean distance squared between this vector and the vector v</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	distance2 : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.reduce(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(previous, current, i)</span> {</span> <span class="hljs-keyword">return</span> previous + (current - v[i]) * (current - v[i]); }, <span class="hljs-number">0</span>);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-103">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-103">&#182;</a>
              </div>
              <p>Returns true of the elements of this vector and v are equal</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	equals : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.map(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(x, i)</span> {</span> <span class="hljs-keyword">if</span>(x != m.data[i]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }) || <span class="hljs-literal">true</span>;
	},
}</pre></div></div>
            
        </li>
        
        
        <li id="section-104">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-104">&#182;</a>
              </div>
              <h2 id="quaternion">Quaternion</h2>

            </div>
            
        </li>
        
        
        <li id="section-105">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-105">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Quaternion</span><span class="hljs-params">(x, y, z, w)</span> {</span>
	<span class="hljs-keyword">if</span>(x <span class="hljs-keyword">instanceof</span> Quaternion)	Vec4.call(<span class="hljs-keyword">this</span>, x.data);
	<span class="hljs-keyword">else</span> Vec4.call(<span class="hljs-keyword">this</span>, x, y, z, w);
}

Quaternion.prototype = <span class="hljs-keyword">new</span> Vec4();
Quaternion.prototype.constructor = Quaternion;
Quaternion.prototype.conjugated = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] = -<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>];
	<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] = -<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>];
	<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] = -<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>];
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
}
Quaternion.prototype.conjugate = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Quaternion(<span class="hljs-keyword">this</span>).conjugated();
}
Quaternion.prototype.inverted = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.conjugated().diveq(<span class="hljs-keyword">this</span>.magnitude());
}
Quaternion.prototype.inverse = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Quaternion(<span class="hljs-keyword">this</span>).inverted();
}
Quaternion.prototype.muleq = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(q)</span> {</span>
	<span class="hljs-keyword">if</span> (q <span class="hljs-keyword">instanceof</span> Quaternion) {
		<span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.data.set(<span class="hljs-keyword">new</span> Quaternion(
				<span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * q.data[<span class="hljs-number">2</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * q.data[<span class="hljs-number">1</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * q.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * q.data[<span class="hljs-number">0</span>],
				<span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * q.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * q.data[<span class="hljs-number">2</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * q.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * q.data[<span class="hljs-number">1</span>],
				<span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * q.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * q.data[<span class="hljs-number">0</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * q.data[<span class="hljs-number">3</span>] + <span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * q.data[<span class="hljs-number">2</span>],
				<span class="hljs-keyword">this</span>.data[<span class="hljs-number">3</span>] * q.data[<span class="hljs-number">3</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">0</span>] * q.data[<span class="hljs-number">0</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">1</span>] * q.data[<span class="hljs-number">1</span>] - <span class="hljs-keyword">this</span>.data[<span class="hljs-number">2</span>] * q.data[<span class="hljs-number">2</span>]
			).data);
	}
	<span class="hljs-keyword">return</span> Vec4.prototype.muleq.call(<span class="hljs-keyword">this</span>, q);
}
Quaternion.prototype.mul = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(q)</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Quaternion(<span class="hljs-keyword">this</span>).muleq(q);
}
Quaternion.prototype.rotMat = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">var</span> n = <span class="hljs-keyword">this</span>.normalized();
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Mat4x4([
			<span class="hljs-number">1</span>-<span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">1</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">2</span>]*n.data[<span class="hljs-number">2</span>], 
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">1</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">2</span>]*n.data[<span class="hljs-number">3</span>],
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">2</span>] + <span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">3</span>],
			<span class="hljs-number">0</span>,
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">1</span>] + <span class="hljs-number">2</span>*n.data[<span class="hljs-number">2</span>]*n.data[<span class="hljs-number">3</span>],
			<span class="hljs-number">1</span>-<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">0</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">2</span>]*n.data[<span class="hljs-number">2</span>], 
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">2</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">3</span>], 
			<span class="hljs-number">0</span>,
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">2</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">3</span>],
			<span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">2</span>] + <span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">3</span>],
			<span class="hljs-number">1</span>-<span class="hljs-number">2</span>*n.data[<span class="hljs-number">0</span>]*n.data[<span class="hljs-number">0</span>] - <span class="hljs-number">2</span>*n.data[<span class="hljs-number">1</span>]*n.data[<span class="hljs-number">1</span>], <span class="hljs-number">0</span>,
			<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>
		]);
}
Quaternion.prototype.complex = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Vec4(<span class="hljs-keyword">this</span>.data.subarray(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>));
}
Quaternion.prototype.rotatedVector = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(v)</span> {</span>
	<span class="hljs-keyword">return</span> (<span class="hljs-keyword">this</span>.mul(<span class="hljs-keyword">new</span> Quaternion(v.data.subarray(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>)))).mul(<span class="hljs-keyword">this</span>.conjugate()).complex();
}</pre></div></div>
            
        </li>
        
        
        <li id="section-106">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-106">&#182;</a>
              </div>
              <h2 id="gl">gl</h2>

            </div>
            
        </li>
        
        
        <li id="section-107">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-107">&#182;</a>
              </div>
              <p>Constructs a GL instance responsible for managing a context associated with a canvas</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GL</span><span class="hljs-params">(canvas)</span> {</span>
	
	<span class="hljs-keyword">this</span>.canvas = canvas;

	<span class="hljs-keyword">try</span> {
		<span class="hljs-keyword">this</span>.gl = canvas.getContext(<span class="hljs-string">"webgl"</span>) || canvas.getContext(<span class="hljs-string">"experimental-webgl"</span>);
	}
	<span class="hljs-keyword">catch</span>(e) { 
		<span class="hljs-keyword">this</span>.gl = <span class="hljs-literal">null</span>;
	}

	<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.gl) {
		<span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error initializing GL context."</span>};
	}

	<span class="hljs-keyword">this</span>.gl.clearColor(<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>);  	<span class="hljs-comment">// Clear to black, fully opaque</span>
    <span class="hljs-keyword">this</span>.gl.clearDepth(<span class="hljs-number">1.0</span>);                 	<span class="hljs-comment">// Clear everything</span>
    <span class="hljs-keyword">this</span>.gl.enable(<span class="hljs-keyword">this</span>.gl.DEPTH_TEST);           <span class="hljs-comment">// Enable depth testing</span>
    <span class="hljs-keyword">this</span>.gl.depthFunc(<span class="hljs-keyword">this</span>.gl.LEQUAL);            <span class="hljs-comment">// Near things obscure far things</span>
	<span class="hljs-keyword">this</span>.gl.clear(<span class="hljs-keyword">this</span>.gl.COLOR_BUFFER_BIT | <span class="hljs-keyword">this</span>.gl.DEPTH_BUFFER_BIT);
}


GL.prototype = {</pre></div></div>
            
        </li>
        
        
        <li id="section-108">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-108">&#182;</a>
              </div>
              <p>Sets the draw loop function to repeat at the specified interval in milliseconds</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	drawLoop : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(func, interval)</span> {</span>
		interval = interval || <span class="hljs-number">30</span>;
		setInterval(func(), interval);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-109">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-109">&#182;</a>
              </div>
              <p>Resizes the canvas to the specified dimenion (vec2)</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	resize : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(dim)</span> {</span>
		<span class="hljs-keyword">this</span>.canvas.width = dim.data[<span class="hljs-number">0</span>];
		<span class="hljs-keyword">this</span>.canvas.height = dim.data[<span class="hljs-number">1</span>];
		<span class="hljs-keyword">this</span>.gl.viewport(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-keyword">this</span>.canvas.width, <span class="hljs-keyword">this</span>.canvas.height);
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-110">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-110">&#182;</a>
              </div>
              <p>Loads (compile, attach and links) a vertex and fragment shader from scripts with the given ids.  Returns the shader program.</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>	loadShaderFromScripts :  <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(vertex_id, fragment_id)</span> {</span>
		<span class="hljs-keyword">var</span> vertex_shader = <span class="hljs-keyword">this</span>.gl.createShader(<span class="hljs-keyword">this</span>.gl.VERTEX_SHADER);
		<span class="hljs-keyword">if</span>(!vertex_shader) <span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error creating vertex shader."</span>};
		<span class="hljs-keyword">this</span>.gl.shaderSource(vertex_shader, document.getElementById(vertex_id).innerHTML);
		
		<span class="hljs-keyword">this</span>.gl.compileShader(vertex_shader);
	    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.gl.getShaderParameter(vertex_shader, <span class="hljs-keyword">this</span>.gl.COMPILE_STATUS)) {
			<span class="hljs-keyword">var</span> error = <span class="hljs-keyword">this</span>.gl.getShaderInfoLog(vertex_shader);
	        <span class="hljs-keyword">this</span>.gl.deleteShader(vertex_shader);
	        <span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error compiling vertex shader. "</span> +  error };
	    }

		<span class="hljs-keyword">var</span> fragment_shader = <span class="hljs-keyword">this</span>.gl.createShader(<span class="hljs-keyword">this</span>.gl.FRAGMENT_SHADER);
		<span class="hljs-keyword">if</span>(!fragment_shader) <span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error creating fragment shader."</span>};
		<span class="hljs-keyword">this</span>.gl.shaderSource(fragment_shader, document.getElementById(fragment_id).innerHTML);

		<span class="hljs-keyword">this</span>.gl.compileShader(fragment_shader);
	    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.gl.getShaderParameter(fragment_shader, <span class="hljs-keyword">this</span>.gl.COMPILE_STATUS)) {
			<span class="hljs-keyword">var</span> error = <span class="hljs-keyword">this</span>.gl.getShaderInfoLog(fragment_shader);
	        <span class="hljs-keyword">this</span>.gl.deleteShader(fragment_shader);
	        <span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error compiling fragment shader. "</span> +  error };
	    }

		<span class="hljs-keyword">var</span> shader_program = <span class="hljs-keyword">this</span>.gl.createProgram();
		<span class="hljs-keyword">if</span>(!shader_program) <span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error creating shader program."</span>};

		<span class="hljs-keyword">this</span>.gl.attachShader(shader_program, vertex_shader);
		<span class="hljs-keyword">this</span>.gl.attachShader(shader_program, fragment_shader);
		<span class="hljs-keyword">this</span>.gl.linkProgram(shader_program);
		<span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.gl.getProgramParameter(shader_program, <span class="hljs-keyword">this</span>.gl.LINK_STATUS)) {
			<span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"GLError"</span>, message : <span class="hljs-string">"Error linking shader program."</span>};
		}

		<span class="hljs-keyword">var</span> shader = {
			program : shader_program,
			gl : <span class="hljs-keyword">this</span>.gl,
			bind : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
				<span class="hljs-keyword">this</span>.gl.useProgram(<span class="hljs-keyword">this</span>.program);
			}, 

			bindUniform : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(name, value)</span> {</span>
				<span class="hljs-keyword">var</span> uniformLocation = <span class="hljs-keyword">this</span>.gl.getUniformLocation(program, name);
				<span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Mat4x4)
					<span class="hljs-keyword">this</span>.gl.uniformMatrix4fv(<span class="hljs-literal">false</span>, value.data);
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (value <span class="hljs-keyword">instanceof</span> Vec4)
					<span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"NotImplementedError"</span>, message : <span class="hljs-string">"todo"</span>};
				<span class="hljs-keyword">else</span>
					<span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"NotImplementedError"</span>, message : <span class="hljs-string">"todo"</span>};
			}
		}

		<span class="hljs-keyword">return</span> shader;
	},</pre></div></div>
            
        </li>
        
        
        <li id="section-111">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-111">&#182;</a>
              </div>
              <p>Binds a uniform value to the current shader, infers the value type</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>

}</pre></div></div>
            
        </li>
        
        
        <li id="section-112">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-112">&#182;</a>
              </div>
              <h2 id="camera">Camera</h2>

            </div>
            
        </li>
        
        
        <li id="section-113">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-113">&#182;</a>
              </div>
              <p>Constructs a camera </p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Camera</span><span class="hljs-params">(gl)</span> {</span>
	<span class="hljs-keyword">this</span>.mat = <span class="hljs-keyword">new</span> Mat4x4();
}

OrthoCamera.prototype = <span class="hljs-keyword">new</span> Camera();
OrthoCamera.prototype.constructor = OrthoCamera;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OrthoCamera</span><span class="hljs-params">(gl, left, right, bottom, top, near, far)</span> {</span>
	Camera.call(<span class="hljs-keyword">this</span>, gl);

	left = left || -<span class="hljs-number">1</span>;
	right = right || -<span class="hljs-number">1</span>;
	bottom = bottom || -<span class="hljs-number">1</span>;
	top = top || -<span class="hljs-number">1</span>;
	near = near || -<span class="hljs-number">1</span>;
	far = far || -<span class="hljs-number">1</span>;

	<span class="hljs-keyword">this</span>.mat.data.set([
		<span class="hljs-number">2</span> / (right - left), <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, -(right + left) / (right - left),
		<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, (-top + bottom) / (top - bottom),
		<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, -<span class="hljs-number">2</span> / (far - near), -(far + near) / (far - near),
		<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>
		]);
}

PerspectiveCamera.prototype = <span class="hljs-keyword">new</span> Camera();
PerspectiveCamera.prototype.constructor = PerspectiveCamera;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PerspectiveCamera</span><span class="hljs-params">(gl)</span> {</span>
	<span class="hljs-keyword">throw</span> {name : <span class="hljs-string">"NotImplementedError"</span>, message : <span class="hljs-string">"todo"</span>};
}</pre></div></div>
            
        </li>
        
        
        <li id="section-114">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-114">&#182;</a>
              </div>
              <h2 id="primitive-factory">Primitive Factory</h2>

            </div>
            
        </li>
        
        
        <li id="section-115">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-115">&#182;</a>
              </div>
              <p>Defines some commonly used primitives</p>

            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PrimitiveFactory</span><span class="hljs-params">()</span> {</span>}
PrimitiveFactory.Quad = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
	<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
			<span class="hljs-keyword">this</span>.vertices = {
				id : -<span class="hljs-number">1</span>, 
				attribute : <span class="hljs-string">"vtx_pos"</span>,
				vec : <span class="hljs-keyword">new</span> Vec([   
					<span class="hljs-number">1.0</span>,  <span class="hljs-number">1.0</span>,  <span class="hljs-number">0.0</span>,
					-<span class="hljs-number">1.0</span>, <span class="hljs-number">1.0</span>,  <span class="hljs-number">0.0</span>,
					<span class="hljs-number">1.0</span>,  -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>,
					-<span class="hljs-number">1.0</span>, -<span class="hljs-number">1.0</span>, <span class="hljs-number">0.0</span>], <span class="hljs-built_in">Float32Array</span>),
				compile : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx, draw_mode)</span> {</span>
					draw_mode = draw_mode || ctx.gl.STATIC_DRAW;
					<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.id &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.id = ctx.gl.createBuffer();
					ctx.gl.bindBuffer(ctx.gl.ARRAY_BUFFER, <span class="hljs-keyword">this</span>.id);
					ctx.gl.bufferData(ctx.gl.ARRAY_BUFFER, <span class="hljs-keyword">this</span>.vec.data, draw_mode);
				},
				bind : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx, program)</span> {</span>
					<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.id &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.compile(ctx);
					ctx.gl.bindBuffer(ctx.gl.ARRAY_BUFFER, <span class="hljs-keyword">this</span>.id);
					<span class="hljs-keyword">var</span> attribute_location = ctx.gl.getAttribLocation(program, <span class="hljs-keyword">this</span>.attribute);
					ctx.gl.enableVertexAttribArray(attribute_location);
					ctx.gl.vertexAttribPointer(attribute_location, 
						<span class="hljs-number">3</span>, ctx.gl.FLOAT, <span class="hljs-literal">false</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
				}
			},
			<span class="hljs-keyword">this</span>.indices = {
				id : -<span class="hljs-number">1</span>,
				vec: <span class="hljs-keyword">new</span> Vec([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-built_in">Uint16Array</span>),
				compile : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx, draw_mode)</span> {</span>
					draw_mode = draw_mode || ctx.gl.STATIC_DRAW;
					<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.id &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.id = ctx.gl.createBuffer();
					ctx.gl.bindBuffer(ctx.gl.ELEMENT_ARRAY_BUFFER, <span class="hljs-keyword">this</span>.id);
					ctx.gl.bufferData(ctx.gl.ELEMENT_ARRAY_BUFFER, <span class="hljs-keyword">this</span>.vec.data, draw_mode);
				},
				bind : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx)</span> {</span>
					<span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.id &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">this</span>.compile(ctx);
					ctx.gl.bindBuffer(ctx.gl.ELEMENT_ARRAY_BUFFER, <span class="hljs-keyword">this</span>.id);
				}
			},</pre></div></div>
            
        </li>
        
        
        <li id="section-116">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-116">&#182;</a>
              </div>
              <p>texcoords : new Vec([0, 0,
                     0, 1,
                     1, 1,
                     0, 1], Float32Array),
normals : new Vec([0, 0, 1,
                   0, 0, 1,
                   0, 0, 1,
                   0, 0, 1], Float32Array),</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>
			<span class="hljs-keyword">this</span>.compile = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx, draw_mode)</span> {</span>
				<span class="hljs-keyword">this</span>.vertices.compile(ctx, draw_mode);</pre></div></div>
            
        </li>
        
        
        <li id="section-117">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-117">&#182;</a>
              </div>
              <p>this.indices.compile(ctx, draw_mode);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>			},
			<span class="hljs-keyword">this</span>.draw = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ctx, program)</span> {</span>
				<span class="hljs-keyword">this</span>.vertices.bind(ctx, program);</pre></div></div>
            
        </li>
        
        
        <li id="section-118">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-118">&#182;</a>
              </div>
              <p>this.indices.bind(ctx, program);
ctx.gl.drawElements(ctx.gl.TRIANGLES, this.indices.vec.length / 3, ctx.gl.UNSIGNED_SHORT, 0);</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>				ctx.gl.drawArrays(ctx.gl.TRIANGLE_STRIP, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>);
			}
		});
	
}</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
